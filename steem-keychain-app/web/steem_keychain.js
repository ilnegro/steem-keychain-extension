var steem_keychain={current_id:1,requests:{},handshake_callback:null,requestHandshake:function(e){this.handshake_callback=e,this.dispatchCustomEvent("swHandshake","")},requestEncodeMessage:function(e,t,s,n,r){var o={type:"encode",username:e,receiver:t,message:s,method:n};this.dispatchCustomEvent("swRequest",o,r)},requestEncodeWithKeys:function(e,t,s,n,r){var o={type:"encodeWithKeys",username:e,publicKeys:t,message:s,method:n};this.dispatchCustomEvent("swRequest",o,r)},requestVerifyKey:function(e,t,s,n){var r={type:"decode",username:e,message:t,method:s};this.dispatchCustomEvent("swRequest",r,n)},requestSignBuffer:function(e,t,s,n,r,o){var u={type:"signBuffer",username:e,message:t,method:s,rpc:r,title:o};this.dispatchCustomEvent("swRequest",u,n)},requestAddAccountAuthority:function(e,t,s,n,r,o){var u={type:"addAccountAuthority",username:e,authorizedUsername:t,role:s,weight:n,method:"Active",rpc:o};this.dispatchCustomEvent("swRequest",u,r)},requestRemoveAccountAuthority:function(e,t,s,n,r){var o={type:"removeAccountAuthority",username:e,authorizedUsername:t,role:s,method:"Active",rpc:r};this.dispatchCustomEvent("swRequest",o,n)},requestAddKeyAuthority:function(e,t,s,n,r,o){var u={type:"addKeyAuthority",username:e,authorizedKey:t,weight:n,role:s,method:"Active",rpc:o};this.dispatchCustomEvent("swRequest",u,r)},requestRemoveKeyAuthority:function(e,t,s,n,r){var o={type:"removeKeyAuthority",username:e,authorizedKey:t,role:s,method:"Active",rpc:r};this.dispatchCustomEvent("swRequest",o,n)},requestBroadcast:function(e,t,s,n,r){var o={type:"broadcast",username:e,operations:t,method:s,rpc:r};this.dispatchCustomEvent("swRequest",o,n)},requestSignTx:function(e,t,s,n,r){var o={type:"signTx",username:e,tx:t,method:s,rpc:r};this.dispatchCustomEvent("swRequest",o,n)},requestSignedCall:function(e,t,s,n,r,o){console.warn("requestSignedCall has been deprecated.")},requestPost:function(e,t,s,n,r,o,u,a,i,c){var p={type:"post",username:e,title:t,body:s,parent_perm:n,parent_username:r,json_metadata:o,permlink:u,comment_options:a,rpc:c};this.dispatchCustomEvent("swRequest",p,i)},requestVote:function(e,t,s,n,r,o){var u={type:"vote",username:e,permlink:t,author:s,weight:n,rpc:o};this.dispatchCustomEvent("swRequest",u,r)},requestCustomJson:function(e,t,s,n,r,o,u){var a={type:"custom",username:e,id:t,method:s||"Posting",json:n,display_msg:r,rpc:u};this.dispatchCustomEvent("swRequest",a,o)},requestTransfer:function(e,t,s,n,r,o,u=!1,a){var i={type:"transfer",username:e,to:t,amount:s,memo:n,enforce:u,currency:r,rpc:a};this.dispatchCustomEvent("swRequest",i,o)},requestSendToken:function(e,t,s,n,r,o,u){var a={type:"sendToken",username:e,to:t,amount:s,memo:n,currency:r,rpc:u};this.dispatchCustomEvent("swRequest",a,o)},requestDelegation:function(e,t,s,n,r,o){var u={type:"delegation",username:e,delegatee:t,amount:s,unit:n,rpc:o};this.dispatchCustomEvent("swRequest",u,r)},requestWitnessVote:function(e,t,s,n,r){var o={type:"witnessVote",username:e,witness:t,vote:s,rpc:r};this.dispatchCustomEvent("swRequest",o,n)},requestProxy:function(e,t,s,n){var r={type:"proxy",username:e,proxy:t,rpc:n};this.dispatchCustomEvent("swRequest",r,s)},requestPowerUp:function(e,t,s,n,r){var o={type:"powerUp",username:e,recipient:t,steem:s,rpc:r};this.dispatchCustomEvent("swRequest",o,n)},requestPowerDown:function(e,t,s,n){var r={type:"powerDown",username:e,steem_power:t,rpc:n};this.dispatchCustomEvent("swRequest",r,s)},requestCreateClaimedAccount:function(e,t,s,n,r,o,u,a){const i={type:"createClaimedAccount",username:e,new_account:t,owner:s,active:n,posting:r,memo:o,rpc:a};this.dispatchCustomEvent("swRequest",i,u)},requestCreateProposal:function(e,t,s,n,r,o,u,a,i,c){const p={type:"createProposal",username:e,receiver:t,subject:s,permlink:n,start:o,end:u,daily_pay:r,extensions:a,rpc:c};this.dispatchCustomEvent("swRequest",p,i)},requestRemoveProposal:function(e,t,s,n,r){const o={type:"removeProposal",username:e,proposal_ids:t,extensions:s,rpc:r};this.dispatchCustomEvent("swRequest",o,n)},requestUpdateProposalVote:function(e,t,s,n,r,o){const u={type:"updateProposalVote",username:e,proposal_ids:t,approve:s,extensions:n,rpc:o};this.dispatchCustomEvent("swRequest",u,r)},requestAddAccount:function(e,t,s){const n={type:"addAccount",username:e,keys:t};this.dispatchCustomEvent("swRequest",n,s)},requestConversion:function(e,t,s,n,r){const o={type:"convert",username:e,amount:t,collaterized:s,rpc:r};this.dispatchCustomEvent("swRequest",o,n)},requestSwap:function(e,t,s,n,r,o,u,a,i,c){const p={type:"swap",username:e,startToken:t,endToken:s,amount:n,slippage:r,steps:o,partnerUsername:i,partnerFee:c,rpc:a};this.dispatchCustomEvent("swRequest",p,u)},dispatchCustomEvent:function(e,t,s){this.requests[this.current_id]=s,t=Object.assign({request_id:this.current_id},t),document.dispatchEvent(new CustomEvent(e,{detail:t})),this.current_id++}};window.addEventListener("message",(function(e){if(e.source==window)if(e.data.type&&"steem_keychain_response"==e.data.type){const t=e.data.response;t&&t.request_id&&steem_keychain.requests[t.request_id]&&(steem_keychain.requests[t.request_id](t),delete steem_keychain.requests[t.request_id])}else e.data.type&&"steem_keychain_handshake"==e.data.type&&steem_keychain.handshake_callback&&steem_keychain.handshake_callback()}),!1);